这是一份基于 **Chrome 浏览器插件**形态，经过提炼后的 **“智编助手 (SmartEdit AI)” MVP (Minimum Viable Product，最小可行性产品)** 功能开发文档。

这份文档旨在指导开发团队优先完成最核心、最高频、最具差异化价值的功能，以最快速度实现产品落地。

---

# 🚀 智编助手 (SmartEdit AI) - MVP 产品功能需求文档

## 1. 产品定义
*   **产品形态**：Chrome 浏览器扩展程序 (Extension)。
*   **核心定位**：基于微信公众平台原生后台的“AI 增强外挂”。
*   **核心价值**：**原生嵌入 + AI 提效 + 痛点补齐**。用户无需离开微信后台，即可获得比原生强大 10 倍的创作与运营能力。

## 2. 核心用户流程 (User Flow)
1.  **安装**：用户安装插件，浏览器右上角出现图标。
2.  **激活**：打开 `mp.weixin.qq.com`（微信公众平台），插件自动在页面左右侧加载侧边栏。
3.  **创作**：点击“新建图文”，在原生编辑器中直接使用插件提供的样式、配图、AI 写作功能。
4.  **预览**：生成永久预览链接分享给他人。
5.  **发布**：完成 AI 标题评分与体检，直接群发。

---

## 3. 功能模块详解 (MVP 优先级)

### 🟢 模块一：超级编辑器 (原生增强)
*此模块直接嵌入微信编辑器页面，解决“排版难、找图难”问题。*

| 功能点 | 功能描述 | 优先级 | 开发要点 |
| :--- | :--- | :--- | :--- |
| **侧边栏样式库** | 在编辑器左侧提供悬浮样式栏（标题、正文、分割线、引导关注等），点击样式直接插入光标处。 | **P0 (最高)** | 需兼容微信原生 DOM 结构，点击即用。 |
| **一键换色系统** | 支持选中样式或全文，通过取色器一键替换主题色（Brand Color）。 | **P0** | 修改 CSS 内联样式的 color/background-color。 |
| **配图中心** | 集成 Unsplash/Pixabay 及 GIF 库，支持关键词搜索，点击直接插入文章。 | **P1** | 需解决跨域图片上传到微信服务器的问题。 |
| **手机传图** | 生成临时二维码，手机扫码上传图片，电脑端实时接收并插入文章。 | **P1** | WebSocket 实现双端实时同步。 |
| **连续格式刷** | 双击格式刷图标，锁定格式刷状态，可连续对多段文本应用格式。 | **P1** | 优化原生编辑器的 execCommand 逻辑。 |
| **全文一键排版** | 预设 3-5 套标准模板（如简约、商务），一键自动处理缩进、行间距、字号。 | **P1** | 遍历 DOM 节点进行批量样式清洗和赋值。 |

### 🟣 模块二：AI 创作引擎 (核心差异化)
*利用 LLM (大模型) 能力，解决“写什么、标题怎么起”的问题。*

| 功能点 | 功能描述 | 优先级 | 开发要点 |
| :--- | :--- | :--- | :--- |
| **AI 标题生成** | 基于文章正文，一键生成 5-10 个高点击率标题（情感类、悬念类、干货类）。 | **P0** | 对接 GPT/国产大模型 API，Prompt 工程优化。 |
| **AI 标题评分** | 用户输入标题，AI 给出 0-100 分打分及优化建议（如：增加情绪词）。 | **P1** | 建立评分模型，分析关键词热度与情感强度。 |
| **AI 划词改写** | 选中编辑器内的一段文字，悬浮菜单提供“润色”、“扩写”、“缩写”、“换种语气”选项。 | **P0** | 选区文本获取与替换，流式输出体验优化。 |
| **AI 写作辅助** | 侧边栏提供“写作”Tab，输入主题/关键词，生成大纲或全篇文章草稿。 | **P1** | 支持上下文理解，分段生成。 |

### 🔵 模块三：运营黑科技 (痛点解决)
*解决微信原生后台功能缺失或限制严重的痛点。*

| 功能点 | 功能描述 | 优先级 | 开发要点 |
| :--- | :--- | :--- | :--- |
| **永久预览链接** | 将当前图文素材生成一个永久有效的 URL，突破微信临时链接 12 小时失效限制。 | **P0** | 需搭建中转服务器，抓取页面内容并托管展示。 |
| **全网素材采集** | 浏览任意网页/微信文章时，通过插件一键采集图文内容到“云端草稿箱”或直接同步至公众号后台。 | **P1** | 解析目标网页 HTML，提取正文与图片，清洗格式。 |
| **图片批量管理** | 在素材库增加“批量选择”、“批量删除”功能，检测未引用图片。 | **P2** | 模拟微信后台接口请求，批量执行操作。 |
| **多账号管理** | 支持同时登录多个公众号，通过顶部下拉菜单快速切换环境，无需反复扫码。 | **P1** | Cookie/Token 管理与隔离。 |

### 🟠 模块四：消息与数据增强 (闭环体验)
*提升粉丝互动效率与数据感知。*

| 功能点 | 功能描述 | 优先级 | 开发要点 |
| :--- | :--- | :--- | :--- |
| **消息增强助手** | 将“消息管理”页面改为类 IM 聊天窗口，显示用户 30 天内历史消息。 | **P1** | 重构页面 UI，聚合历史消息接口数据。 |
| **关键词提醒** | 设置关键词（如“合作”），当新消息包含该词时，浏览器弹窗强提醒。 | **P1** | 轮询消息接口或监听 WebSocket。 |
| **数据看板 Overlay** | 在公众号后台首页，覆盖显示更直观的粉丝增长折线图、文章阅读率漏斗。 | **P2** | 调用微信统计接口，使用 ECharts 渲染图表。 |

---

## 4. 技术架构与非功能需求

### 4.1 技术选型
*   **前端框架**：Vue 3 或 React (推荐 React 以便于组件化管理侧边栏)。
*   **插件标准**：Manifest V3 (符合 Chrome 商店最新上架标准)。
*   **UI 库**：Ant Design 或 Tailwind CSS (保持轻量、现代)。
*   **AI 接口**：OpenAI API (海外) 或 智谱AI/文心一言 API (国内)。

### 4.2 交互原则 (UI/UX)
1.  **无感融入**：UI 风格必须严格模仿微信公众平台原生风格（配色、字体、圆角），让用户感觉这是微信自带的功能，而非突兀的第三方插件。
2.  **即用即走**：所有功能尽量在当前页面通过悬浮窗、侧边栏解决，避免新开标签页跳转。
3.  **响应速度**：样式插入、AI 生成必须在 2 秒内有反馈（Loading 状态）。

### 4.3 安全与合规
*   **数据隐私**：插件**不存储**用户的公众号密码、Cookie 等敏感信息，仅在本地浏览器运行。
*   **防封号机制**：严格控制接口调用频率，模拟人类操作间隔，避免触发微信反爬虫风控。

---

## 5. 开发阶段规划 (Roadmap)

*   **阶段一 (MVP - 核心闭环)**：
    *   完成基础样式库、编辑器侧边栏嵌入。
    *   实现 AI 标题生成、AI 划词改写。
    *   实现永久链接生成。
    *   *目标：让用户写完一篇文章觉得“真香”。*
*   **阶段二 (增强体验)**：
    *   上线手机传图、配图中心。
    *   上线消息增强助手、多账号切换。
    *   *目标：粘住用户，替代其他工具。*
*   **阶段三 (商业化与高级功能)**：
    *   上线高级 SVG 交互、深度数据分析。
    *   引入会员体系。
    *   *目标：实现变现。*